# ADR-001: Використати трирівневу архітектуру для застосунку відстеження витрат
## Статус
Прийнято
## Контекст
Застосунок для відстеження витрат включає введення витрат користувачем, обробку бізнес-логіки (підрахунок, категоризація, узгодження) та збереження даних з можливістю генерації звітів і статистики.  
Необхідно чітке розділення презентаційного, бізнес- та інфраструктурного шарів для масштабованості, тестування та спрощеного супроводження.
## Рішення
Реалізувати трирівневу архітектуру:
- **Presentation Layer**: React SPA / мобільний клієнт (введення витрат, перегляд статистики)
- **Business Layer**: API Gateway + модулі бізнес-логіки (Expense, Approval, Reporting, Integration)
- **Data / Infra Layer**: PostgreSQL, Redis Cache, Message Broker, Object Storage  
Взаємодія між шарами відбувається через REST / GraphQL, RPC виклики та SQL.
## Наслідки
- ✅ Чітке розділення відповідальностей між UI, бізнес-логікою та даними
- ✅ Легше тестувати окремі модулі
- ✅ Підтримка повторного використання бізнес-логіки
- ✅ Можливість масштабування окремих шарів незалежно
- ⚠️ Додаткові витрати на інтеграцію між шарами
- ⚠️ Потенційне збільшення латентності через мережеві виклики між компонентами
- ❌ Менша гнучкість у порівнянні з подієвою / мікросервісною архітектурою
## Реалізація
Спринт 1: Проєктування шарів та контрактів між ними  
Спринт 2-3: Реалізація бізнес-рівня (Expense, Approval, Reporting, Integration) та інтеграція з базою даних  
Спринт 4: Інтеграція клієнтського рівня та налаштування кешування / черг повідомлень
