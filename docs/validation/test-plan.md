# Тест-план

| № | Компонент/функція | Рівень тесту | Тип (позитивний/негативний) | Очікуаний результат / критерій прийняття | Власник |
|---|---|---|---|---|---|
| 1 | **Авторизація користувача** | Unit | Позитивний | Функція `authenticateUser()` повертає JWT токен при валідних credentials (email + password). Токен містить userId та expiry | Вова |
| 2 | Авторизація користувача | Integration | Негативний | При неправильному паролі API повертає статус 401 та повідомлення "Invalid credentials". Токен не генерується | Вова |
| 3 | Авторизація користувача | Unit | Негативний | Функція валідації відхиляє email без символу "@" або пустий пароль. Повертає помилку валідації | Захар |
| 4 | **Перегляд графіків витрат** | Unit | Позитивний | Функція `generateChartData()` на фронті коректно агрегує витрати по категоріях за обраний період. Сума всіх категорій = загальна сума витрат | Захар |
| 5 | Перегляд графіків витрат | Integration | Позитивний | Компонент Chart отримує дані з API `/expenses`, обробляє їх та рендерить графік без помилок. Відображаються всі категорії з ненульовими значеннями | Нікіта |
| 6 | Перегляд графіків витрат | Unit | Негативний | При порожньому масиві витрат функція `generateChartData()` повертає пусті дані та компонент відображає placeholder "Немає даних для відображення" | Нікіта |
| 7 | **Додавання особистих витрат** | Unit | Позитивний | Функція `addExpense()` створює запис з обов'язковими полями (amount, category, date) та повертає ID створеного запису | Вова |
| 8 | Додавання особистих витрат | Integration | Позитивний | POST `/expenses` з валідними даними створює запис у БД та повертає 201 Created з об'єктом витрати | Вова |
| 9 | Додавання особистих витрат | Unit | Негативний | Функція валідації відхиляє від'ємну суму або дату в майбутньому. Повертає validation error | Захар |
| 10 | **Додавання командних витрат** (не готово) | Unit | Позитивний | Функція `addTeamExpense()` має створювати запис з полями teamId, amount, category, splitType та масивом учасників | Захар |
| 11 | Додавання командних витрат (не готово) | Integration | Позитивний | POST `/team-expenses` має створювати запис і розподіляти борги між учасниками згідно splitType (equal/percentage/custom) | Нікіта |
| 12 | Додавання командних витрат (не готово) | Integration | Негативний | API має повертати 400 якщо користувач не є учасником команди або сума розподілу не дорівнює 100% | Нікіта |
| 13 | **Продуктивність: Завантаження дашборду** | Performance | Нефункціональний | Час завантаження головної сторінки з графіками < 2 секунди при 1000+ записах витрат. Вимірюється через Lighthouse | Вова |
| 14 | **Безпека: SQL Injection** | Security | Нефункціональний | Всі API endpoints з параметрами використовують prepared statements. Тест на payload `'; DROP TABLE users--` не впливає на БД | Захар |
| 15 | **Безпека: XSS захист** | Security | Нефункціональний | При додаванні витрати з назвою `<script>alert('xss')</script>` дані екрануються і відображаються як текст без виконання | Нікіта |

---